在最佳集成架构方面，在我看来唯一的长期解决方案，是类似于Jay Kreps在2013年所写的统一日志架构。所有进来的写操作都需要放入一个集中的日志中，比如Kafka，然后各个数据库就可以从中提取需要的东西，每个团队都可以从中心日志中决定需要什么。




由于 Kafka 本身是存储计算耦合的架构，使得数据不均衡的问题经常凸显，集群扩容、故障恢复也变得异常麻烦，给运维工作带来不少痛苦；同时，由于 Consumer 的 Rebalance算法每次都是全部重新计算，使得业务的消费体验也不是很好；存储计算耦合的架构在扩容和故障转移时都需要进行数据搬迁；故障恢复时一般要经历复杂的算法先选举 Leader，且提供服务前要先保证各副本数据是一致的。





为了满足数据的一次采集、多次消费的需求，这里要说的便是Kafka。



